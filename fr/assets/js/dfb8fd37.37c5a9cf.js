"use strict";(self.webpackChunksubway_builder_modded_docs=self.webpackChunksubway_builder_modded_docs||[]).push([[179],{8017(e,i,s){s.r(i),s.d(i,{assets:()=>l,contentTitle:()=>o,default:()=>u,frontMatter:()=>a,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"guides/map-porting-guide","title":"Guide de Portage des Cartes","description":"Ce guide s\u2019adresse \xe0 toutes les cartes cr\xe9\xe9es avant la version 1.0.0 et la sortie de l\u2019API de modding, comme le Australia/New Zealand Pack by expedtadam. Il n\xe9cessite un peu plus de configuration, mais peut tout de m\xeame \xeatre port\xe9 vers le nouveau framework relativement facilement.","source":"@site/i18n/fr/docusaurus-plugin-content-docs/current/guides/map-porting-guide.mdx","sourceDirName":"guides","slug":"/guides/map-porting-guide","permalink":"/fr/wiki/guides/map-porting-guide","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"map-porting-guide","title":"Guide de Portage des Cartes"},"sidebar":"docs","previous":{"title":"Guide d\u2019installation des cartes (Legacy)","permalink":"/fr/wiki/guides/legacy-map-installation-guide"}}');var r=s(4848),t=s(8453);const a={id:"map-porting-guide",title:"Guide de Portage des Cartes"},o=void 0,l={},c=[{value:"\xc9tape 1 - Installer le Map Manager",id:"\xe9tape-1---installer-le-map-manager",level:3},{value:"\xc9tape 2 - Extraire les Fichiers",id:"\xe9tape-2---extraire-les-fichiers",level:3},{value:"\xc9tape 3 - Cr\xe9er le Fichier Config",id:"\xe9tape-3---cr\xe9er-le-fichier-config",level:3},{value:"\xc9tape 4 - Compresser les Fichiers",id:"\xe9tape-4---compresser-les-fichiers",level:3},{value:"\xc9tape 5 - Ajouter la Carte",id:"\xe9tape-5---ajouter-la-carte",level:3},{value:"\xc9tape 6 - Lancer Subway Builder",id:"\xe9tape-6---lancer-subway-builder",level:3}];function d(e){const i={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(i.p,{children:["Ce guide s\u2019adresse \xe0 toutes les cartes cr\xe9\xe9es avant la version 1.0.0 et la sortie de l\u2019API de modding, comme le ",(0,r.jsx)(i.a,{href:"https://drive.google.com/drive/folders/18fpT9ASi3kMIK0lYjOzAbb-IM_RPZ6cz",children:"Australia/New Zealand Pack by expedtadam"}),". Il n\xe9cessite un peu plus de configuration, mais peut tout de m\xeame \xeatre port\xe9 vers le nouveau framework relativement facilement."]}),"\n",(0,r.jsx)(i.h3,{id:"\xe9tape-1---installer-le-map-manager",children:"\xc9tape 1 - Installer le Map Manager"}),"\n",(0,r.jsxs)(i.p,{children:["T\xe9l\xe9chargez la derni\xe8re version du Map Manager sur ",(0,r.jsx)(i.a,{href:"https://github.com/Kronifer/subwaybuilder-patcher/releases",children:"https://github.com/Kronifer/subwaybuilder-patcher/releases"}),". Pour t\xe9l\xe9charger, cliquez sur la version correspondant \xe0 votre syst\xe8me d\u2019exploitation."]}),"\n",(0,r.jsx)("img",{width:"1000",alt:"image",src:"/images/map-manager-download.png"}),"\n",(0,r.jsx)(i.admonition,{type:"note",children:(0,r.jsxs)(i.p,{children:["Sous Windows, t\xe9l\xe9chargez le fichier ",(0,r.jsx)(i.code,{children:".exe"}),". Sous Linux, t\xe9l\xe9chargez le fichier ",(0,r.jsx)(i.code,{children:".zip"}),". Sous macOS, utilisez le fichier ",(0,r.jsx)(i.code,{children:"arm64.dmg"})," si votre Mac poss\xe8de une puce Apple Silicon (par exemple M1, M2, M3, etc.) et le fichier ",(0,r.jsx)(i.code,{children:"x64.dmg"})," si votre Mac poss\xe8de une puce Intel. En r\xe8gle g\xe9n\xe9rale, les Mac sortis apr\xe8s environ 2021 utilisent Apple Silicon, tandis que les mod\xe8les plus anciens utilisent Intel \u2014 mais v\xe9rifiez, car il existe des exceptions."]})}),"\n",(0,r.jsxs)(i.admonition,{type:"note",children:[(0,r.jsxs)(i.p,{children:["Sous macOS, l\u2019installateur ",(0,r.jsx)(i.code,{children:".dmg"})," sera probablement mis en quarantaine. Pour l\u2019ex\xe9cuter, ouvrez un terminal dans le dossier o\xf9 vous l\u2019avez t\xe9l\xe9charg\xe9, puis ex\xe9cutez ",(0,r.jsx)(i.code,{children:"xattr -d com.apple.quarantine {NOM_DU_FICHIER_INSTALLATEUR}"}),". Par exemple, si vous t\xe9l\xe9chargez la version 0.2.7 pour un Mac ARM, ex\xe9cutez ",(0,r.jsx)(i.code,{children:"xattr -d com.apple.quarantine Subway.Builder.Map.Manager-0.2.7-arm64.dmg"}),"."]}),(0,r.jsx)(i.p,{children:"De plus, le dossier Library contenant le dossier metro-maker4 peut \xeatre masqu\xe9 par d\xe9faut. Pour l\u2019afficher, ouvrez Finder, allez dans votre dossier personnel (Home), puis s\xe9lectionnez Pr\xe9sentation \u2192 Afficher les options de pr\xe9sentation \u2192 Afficher le dossier Biblioth\xe8que."})]}),"\n",(0,r.jsxs)(i.p,{children:["Ensuite, installez l\u2019application comme n\u2019importe quelle autre. Une fois l\u2019installation termin\xe9e, lancez l\u2019application et suivez le processus de configuration en s\xe9lectionnant l\u2019emplacement de l\u2019ex\xe9cutable du jeu ainsi que votre dossier ",(0,r.jsx)(i.code,{children:"metro-maker4"}),". \xc0 ce stade, vous pouvez supprimer le fichier ZIP, l\u2019installateur et tout autre fichier t\xe9l\xe9charg\xe9."]}),"\n",(0,r.jsx)("img",{width:"1200",alt:"image",src:"https://private-user-images.githubusercontent.com/19807509/553076498-ea9604c2-bc93-4cb4-939c-73d957b22f2a.png?jwt=..."}),"\n",(0,r.jsx)(i.h3,{id:"\xe9tape-2---extraire-les-fichiers",children:"\xc9tape 2 - Extraire les Fichiers"}),"\n",(0,r.jsx)(i.p,{children:"Nous devons maintenant extraire les fichiers n\xe9cessaires \xe0 partir de la carte t\xe9l\xe9charg\xe9e. Nous aurons besoin de 6 fichiers au total :"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"XXX.pmtiles"})," (",(0,r.jsx)(i.code,{children:"XXX"})," correspond au code de votre ville ; par exemple ",(0,r.jsx)(i.code,{children:"MIA"})," pour Miami)"]}),"\n",(0,r.jsx)(i.li,{children:(0,r.jsx)(i.code,{children:"demand_data.json"})}),"\n",(0,r.jsx)(i.li,{children:(0,r.jsx)(i.code,{children:"buildings_index.json"})}),"\n",(0,r.jsx)(i.li,{children:(0,r.jsx)(i.code,{children:"roads.geojson"})}),"\n",(0,r.jsx)(i.li,{children:(0,r.jsx)(i.code,{children:"runways_taxiways.geojson"})}),"\n",(0,r.jsx)(i.li,{children:(0,r.jsx)(i.code,{children:"config.json"})}),"\n"]}),"\n",(0,r.jsxs)(i.p,{children:["Le premier est simple. Dans le dossier de la carte t\xe9l\xe9charg\xe9e, recherchez le fichier ",(0,r.jsx)(i.code,{children:"XXX.pmtiles"}),". Il se trouve quelque part dans le r\xe9pertoire, soit \xe0 la racine, soit dans un sous-dossier. Cr\xe9ez un dossier temporaire afin d\u2019y stocker nos 6 fichiers."]}),"\n",(0,r.jsxs)(i.p,{children:["Les 4 suivants demandent un peu plus de travail. Vous devriez pouvoir les trouver facilement, mais ils sont compress\xe9s (ils se terminent par ",(0,r.jsx)(i.code,{children:".gz"}),"). Nous devrons les extraire comme une archive."]}),"\n",(0,r.jsx)(i.admonition,{type:"important",children:(0,r.jsxs)(i.p,{children:["Si vos 4 fichiers sont au format ",(0,r.jsx)(i.code,{children:".gz"})," (par exemple ",(0,r.jsx)(i.code,{children:"demand_data.json.gz"}),"), continuez \xe0 lire et suivez le reste de cette \xe9tape. S\u2019ils ne sont pas au format ",(0,r.jsx)(i.code,{children:".gz"})," (par exemple ",(0,r.jsx)(i.code,{children:"demand_data.json"}),"), ignorez le reste de cette \xe9tape, d\xe9placez-les dans le dossier temporaire et passez \xe0 l\u2019\xc9tape 3. Si les 4 fichiers sont totalement absents, alors la carte t\xe9l\xe9charg\xe9e est incompl\xe8te. Vous pouvez soit ",(0,r.jsx)(i.a,{href:"https://github.com/kaicardenas0618/Subway-Builder-Map-Directory/wiki/Creating-a-Custom-Map",children:"g\xe9n\xe9rer les donn\xe9es vous-m\xeame"}),", soit trouver une autre carte."]})}),"\n",(0,r.jsx)(i.admonition,{type:"tip",children:(0,r.jsxs)(i.p,{children:["Sous Windows et Linux, vous pouvez utiliser ",(0,r.jsx)(i.a,{href:"https://www.7-zip.org/download.html",children:"7-Zip"})," pour extraire les archives ",(0,r.jsx)(i.code,{children:".gz"}),". macOS prend en charge nativement les archives gzip : il suffit donc de double-cliquer dessus pour les extraire."]})}),"\n",(0,r.jsxs)(i.p,{children:["\xc0 l\u2019int\xe9rieur, vous devriez voir un seul fichier. Par exemple, dans ",(0,r.jsx)(i.code,{children:"demand_data.json.gz"}),", vous trouverez ",(0,r.jsx)(i.code,{children:"demand_data.json"}),", et il en va de m\xeame pour les 3 autres archives. Extrayez les 4 fichiers et placez-les dans votre dossier temporaire. Certaines cartes contiennent des fichiers de donn\xe9es en double \xe0 diff\xe9rents endroits ; peu importe lequel vous choisissez, ils sont identiques."]}),"\n",(0,r.jsx)(i.h3,{id:"\xe9tape-3---cr\xe9er-le-fichier-config",children:"\xc9tape 3 - Cr\xe9er le Fichier Config"}),"\n",(0,r.jsxs)(i.p,{children:["Le dernier fichier dont nous avons besoin est ",(0,r.jsx)(i.code,{children:"config.json"}),". C\u2019est le plus complexe. Commencez par cr\xe9er un nouveau fichier nomm\xe9 ",(0,r.jsx)(i.code,{children:"config.json"}),"."]}),"\n",(0,r.jsx)(i.admonition,{type:"tip",children:(0,r.jsxs)(i.p,{children:["Assurez-vous qu\u2019il s\u2019agit bien d\u2019un fichier ",(0,r.jsx)(i.code,{children:".json"}),". Si l\u2019extension n\u2019appara\xeet pas, recherchez comment activer l\u2019affichage des extensions de fichiers sur votre syst\xe8me d\u2019exploitation."]})}),"\n",(0,r.jsxs)(i.p,{children:["Collez ensuite ce mod\xe8le dans ",(0,r.jsx)(i.code,{children:"config.json"})," :"]}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{children:'{\n  "name": "Boise",\n  "code": "BOI",\n  "description": "Build a rapid transit network for one of America`s fastest growing cities.",\n  "population": 329866,\n  "initialViewState": {\n    "zoom": 13,\n    "latitude": 43.617499,\n    "longitude": -116.245394,\n    "bearing": 0\n  },\n  "creator": "muffintime",\n  "version": "2.1.0"\n}\n'})}),"\n",(0,r.jsxs)(i.p,{children:["Nous devons modifier ces donn\xe9es pour qu\u2019elles correspondent \xe0 votre carte. Dans le dossier de la carte, il devrait y avoir un fichier ",(0,r.jsx)(i.code,{children:".js"}),", g\xe9n\xe9ralement nomm\xe9 ",(0,r.jsx)(i.code,{children:"index.js"}),", ",(0,r.jsx)(i.code,{children:"main.js"})," ou ",(0,r.jsx)(i.code,{children:"config.js"}),", mais il peut avoir un autre nom."]}),"\n",(0,r.jsx)("img",{width:"1097",alt:"image",src:"/images/city-data.png"}),"\n",(0,r.jsxs)(i.blockquote,{children:["\n",(0,r.jsxs)(i.p,{children:["Exemple provenant du fichier ",(0,r.jsx)(i.code,{children:"index.js"})," du Canadian Cities Map Pack."]}),"\n"]}),"\n",(0,r.jsx)(i.admonition,{type:"tip",children:(0,r.jsxs)(i.p,{children:["S\u2019il y a plusieurs fichiers ",(0,r.jsx)(i.code,{children:".js"}),", v\xe9rifiez-les tous. L\u2019un d\u2019eux contient les donn\xe9es n\xe9cessaires."]})}),"\n",(0,r.jsx)(i.p,{children:"Depuis ce fichier, nous pouvons r\xe9cup\xe9rer :"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:(0,r.jsx)(i.code,{children:"name"})}),"\n",(0,r.jsx)(i.li,{children:(0,r.jsx)(i.code,{children:"code"})}),"\n",(0,r.jsx)(i.li,{children:(0,r.jsx)(i.code,{children:"description"})}),"\n",(0,r.jsx)(i.li,{children:(0,r.jsx)(i.code,{children:"population"})}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"initialViewState"})," (et tous ses param\xe8tres)"]}),"\n"]}),"\n",(0,r.jsx)(i.admonition,{type:"note",children:(0,r.jsxs)(i.p,{children:["Si vos donn\xe9es ne contiennent pas ",(0,r.jsx)(i.code,{children:"initialViewState"}),", vous pouvez utiliser 12 ou 13 pour ",(0,r.jsx)(i.code,{children:"zoom"})," et 0 pour ",(0,r.jsx)(i.code,{children:"bearing"}),". Pour ",(0,r.jsx)(i.code,{children:"latitude"})," et ",(0,r.jsx)(i.code,{children:"longitude"}),", choisissez une valeur situ\xe9e dans la plage des coordonn\xe9es bbox (la ",(0,r.jsx)(i.code,{children:"latitude"})," correspond aux ",(0,r.jsx)(i.strong,{children:"2e"})," et ",(0,r.jsx)(i.strong,{children:"4e"})," nombres, et la ",(0,r.jsx)(i.code,{children:"longitude"})," aux ",(0,r.jsx)(i.strong,{children:"1er"})," et ",(0,r.jsx)(i.strong,{children:"3e"}),"). Dans l\u2019exemple de Toronto ci-dessus, nous pourrions utiliser 44.0 et -79.0."]})}),"\n",(0,r.jsxs)(i.p,{children:["Les deux derni\xe8res informations n\xe9cessaires sont ",(0,r.jsx)(i.code,{children:"creator"})," et ",(0,r.jsx)(i.code,{children:"version"}),". Elles ne sont pas pr\xe9sentes dans le pack mais sont obligatoires. Vous pouvez utiliser le nom du ",(0,r.jsx)(i.code,{children:"creator"})," indiqu\xe9 sur la ",(0,r.jsx)(i.a,{href:"https://github.com/kaicardenas0618/Subway-Builder-Map-Directory/wiki/Map-Directory",children:"page de t\xe9l\xe9chargement"}),". Vous pouvez choisir n\u2019importe quelle valeur pour ",(0,r.jsx)(i.code,{children:"version"}),". Une fois toutes les informations r\xe9unies, assurez-vous d\u2019avoir les 6 fichiers requis. Vous \xeates alors pr\xeat pour l\u2019\xe9tape suivante."]}),"\n",(0,r.jsx)(i.admonition,{type:"important",children:(0,r.jsxs)(i.p,{children:["Bien que ce ne soit pas obligatoire, si vous comptez partager cette carte port\xe9e, veuillez inclure le ",(0,r.jsx)(i.code,{children:"creator"})," afin que les cr\xe9ateurs originaux re\xe7oivent le cr\xe9dit pour leur travail."]})}),"\n",(0,r.jsx)(i.h3,{id:"\xe9tape-4---compresser-les-fichiers",children:"\xc9tape 4 - Compresser les Fichiers"}),"\n",(0,r.jsxs)(i.p,{children:["Maintenant que nous avons les 6 fichiers, nous devons les regrouper dans une archive ",(0,r.jsx)(i.code,{children:".zip"}),". Cela peut \xeatre fait nativement sous Windows ou Linux, ou avec ",(0,r.jsx)(i.a,{href:"https://www.7-zip.org/download.html",children:"7-Zip"}),", ou encore sous macOS en s\xe9lectionnant ",(0,r.jsx)(i.code,{children:"Compresser"}),". Une fois le fichier ",(0,r.jsx)(i.code,{children:".zip"})," cr\xe9\xe9, le portage est termin\xe9 ; il ne reste plus qu\u2019\xe0 l\u2019importer dans le jeu."]}),"\n",(0,r.jsx)(i.h3,{id:"\xe9tape-5---ajouter-la-carte",children:"\xc9tape 5 - Ajouter la Carte"}),"\n",(0,r.jsxs)(i.p,{children:["Pour installer une carte, cliquez sur le bouton ",(0,r.jsx)(i.code,{children:"ADD A MAP"})," et importez le fichier ZIP contenant votre carte. Une fois l\u2019op\xe9ration termin\xe9e, le nom de la carte, le cr\xe9ateur et la version devraient appara\xeetre \xe0 l\u2019\xe9cran."]}),"\n",(0,r.jsx)("img",{width:"1200",alt:"image",src:"https://private-user-images.githubusercontent.com/19807509/553076477-c08ebbab-5ce3-41d5-b713-b8050d2a51bf.png?jwt=..."}),"\n",(0,r.jsx)(i.h3,{id:"\xe9tape-6---lancer-subway-builder",children:"\xc9tape 6 - Lancer Subway Builder"}),"\n",(0,r.jsxs)(i.p,{children:["Une fois toutes vos cartes ajout\xe9es, vous pouvez lancer le jeu en cliquant sur ",(0,r.jsx)(i.code,{children:"START GAME"}),". \xc0 partir de maintenant, c\u2019est ainsi que vous devrez lancer le jeu. Dans le jeu, vos cartes appara\xeetront dans l\u2019onglet ",(0,r.jsx)(i.code,{children:"CUSTOM"})," et seront pr\xeates \xe0 \xeatre jou\xe9es."]}),"\n",(0,r.jsx)(i.admonition,{type:"important",children:(0,r.jsx)(i.p,{children:"En raison du fonctionnement actuel du jeu, vous devez lancer le jeu via le Map Manager chaque fois que vous souhaitez jouer \xe0 une carte personnalis\xe9e. Si vous ne lancez pas le jeu via le Map Manager, les b\xe2timents et l\u2019eau n\u2019appara\xeetront pas en jeu."})})]})}function u(e={}){const{wrapper:i}={...(0,t.R)(),...e.components};return i?(0,r.jsx)(i,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453(e,i,s){s.d(i,{R:()=>a,x:()=>o});var n=s(6540);const r={},t=n.createContext(r);function a(e){const i=n.useContext(t);return n.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function o(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),n.createElement(t.Provider,{value:i},e.children)}}}]);